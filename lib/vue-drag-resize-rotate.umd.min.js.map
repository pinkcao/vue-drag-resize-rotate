{"version":3,"sources":["webpack://vue-drag-resize-rotate/webpack/universalModuleDefinition","webpack://vue-drag-resize-rotate/webpack/bootstrap","webpack://vue-drag-resize-rotate/./packages/vueDragResizeRotate/vueDragResizeRotate.vue?0e08","webpack://vue-drag-resize-rotate/./node_modules/@soda/get-current-script/index.js","webpack://vue-drag-resize-rotate/external {\"commonjs\":\"vue\",\"commonjs2\":\"vue\",\"root\":\"Vue\"}","webpack://vue-drag-resize-rotate/./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js","webpack://vue-drag-resize-rotate/./packages/vueDragResizeRotate/vueDragResizeRotate.vue","webpack://vue-drag-resize-rotate/./packages/vueDragResizeRotate/vueDragResizeRotate.vue?c2eb","webpack://vue-drag-resize-rotate/./packages/index.js","webpack://vue-drag-resize-rotate/./node_modules/@vue/cli-service/lib/commands/build/entry-lib.js"],"names":["root","factory","exports","module","require","define","amd","self","this","__WEBPACK_EXTERNAL_MODULE__8bbf__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","getCurrentScript","descriptor","getOwnPropertyDescriptor","document","currentScript","Error","err","pageSource","inlineScriptSourceRegExp","inlineScriptSource","ieStackRegExp","ffStackRegExp","stackDetails","exec","stack","scriptLocation","line","currentLocation","location","href","replace","hash","scripts","getElementsByTagName","documentElement","outerHTML","RegExp","trim","length","readyState","src","innerHTML","window","match","class","active","isActive","style","transform","deg","ref","defineCurrent","tabIndex","clickSon","$event","bodyDown","sticks","stick","isResizable","stickDown","vdrStick","isRotatable","rotateDown","defineRo","stickSize","styleMapping","y","b","x","emits","props","type","Number","default","item","parentScaleX","parentScaleY","Boolean","preventActiveBehavior","isDraggable","aspectRatio","parentLimitation","parentW","validator","val","parentH","w","h","minw","minh","z","String","valid","dragHandle","dragCancel","Array","aspectRatioSticks","axis","indexOf","snapToGrid","gridX","gridY","data","rawDeg","rotateCenter","rotateEnd","rotateStart","rawWidth","rawHeight","rawLeft","rawTop","rawRight","rawBottom","zIndex","aspectFactor","parentWidth","parentHeight","left","top","right","bottom","minWidth","minHeight","currentFixArray","currentFixSpot","ratioStick","finalFixArray","current","ro","created","stickDrag","bodyDrag","rotateDrag","stickAxis","stickStartPos","mouseX","mouseY","limits","minLeft","maxLeft","minRight","maxRight","minTop","maxTop","minBottom","maxBottom","currentStick","mounted","calcuFather","addEventListener","move","up","deselect","getCenter","dragHandles","slice","$el","querySelectorAll","setAttribute","_uid","cancelHandles","beforeUnmount","removeEventListener","methods","method","context","params","clearTimeout","timeout","setTimeout","el","getBoundingClientRect","width","height","e","target","focus","stopPropagation","parentElement","parentNode","clientWidth","clientHeight","ev","stickMove","bodyMove","rotateMove","stickUp","bodyUp","rotateUp","srcElement","button","$emit","getAttribute","toString","pageX","touches","pageY","calcDragLimitation","delta","alignTop","alignLeft","diffT","Math","floor","diffB","diffL","diffR","abs","rect","clientX","clientY","event","a","calculLength","direct","calculClock","calculrawDegA","srawDeg","transformOrigin","undefined","split","calcResizeLimitation","parentLim","aspectLimits","min","max","tempDeltaX","cos","PI","sin","tempDeltaY","aspectRatioStickFlag","newWidth","newHeight","x1","x2","y1","y2","hypot","acos","x3","y3","computed","position","cursor","marginLeft","color","stickStyle","round","watch","newLeft","newRight","newTop","newBottom","aspectRatioCorrection","render","components","vueDragResizeRotate","install","Vue","installed","keys","forEach","component","API"],"mappings":"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","file":"vue-drag-resize-rotate.umd.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vue\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vue-drag-resize-rotate\"] = factory(require(\"vue\"));\n\telse\n\t\troot[\"vue-drag-resize-rotate\"] = factory(root[\"Vue\"]);\n})((typeof self !== 'undefined' ? self : this), function(__WEBPACK_EXTERNAL_MODULE__8bbf__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"fb15\");\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./vueDragResizeRotate.vue?vue&type=style&index=0&id=321a4480&lang=css\"","// addapted from the document.currentScript polyfill by Adam Miller\n// MIT license\n// source: https://github.com/amiller-gh/currentScript-polyfill\n\n// added support for Firefox https://bugzilla.mozilla.org/show_bug.cgi?id=1620505\n\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = factory();\n  } else {\n    root.getCurrentScript = factory();\n  }\n}(typeof self !== 'undefined' ? self : this, function () {\n  function getCurrentScript () {\n    var descriptor = Object.getOwnPropertyDescriptor(document, 'currentScript')\n    // for chrome\n    if (!descriptor && 'currentScript' in document && document.currentScript) {\n      return document.currentScript\n    }\n\n    // for other browsers with native support for currentScript\n    if (descriptor && descriptor.get !== getCurrentScript && document.currentScript) {\n      return document.currentScript\n    }\n  \n    // IE 8-10 support script readyState\n    // IE 11+ & Firefox support stack trace\n    try {\n      throw new Error();\n    }\n    catch (err) {\n      // Find the second match for the \"at\" string to get file src url from stack.\n      var ieStackRegExp = /.*at [^(]*\\((.*):(.+):(.+)\\)$/ig,\n        ffStackRegExp = /@([^@]*):(\\d+):(\\d+)\\s*$/ig,\n        stackDetails = ieStackRegExp.exec(err.stack) || ffStackRegExp.exec(err.stack),\n        scriptLocation = (stackDetails && stackDetails[1]) || false,\n        line = (stackDetails && stackDetails[2]) || false,\n        currentLocation = document.location.href.replace(document.location.hash, ''),\n        pageSource,\n        inlineScriptSourceRegExp,\n        inlineScriptSource,\n        scripts = document.getElementsByTagName('script'); // Live NodeList collection\n  \n      if (scriptLocation === currentLocation) {\n        pageSource = document.documentElement.outerHTML;\n        inlineScriptSourceRegExp = new RegExp('(?:[^\\\\n]+?\\\\n){0,' + (line - 2) + '}[^<]*<script>([\\\\d\\\\D]*?)<\\\\/script>[\\\\d\\\\D]*', 'i');\n        inlineScriptSource = pageSource.replace(inlineScriptSourceRegExp, '$1').trim();\n      }\n  \n      for (var i = 0; i < scripts.length; i++) {\n        // If ready state is interactive, return the script tag\n        if (scripts[i].readyState === 'interactive') {\n          return scripts[i];\n        }\n  \n        // If src matches, return the script tag\n        if (scripts[i].src === scriptLocation) {\n          return scripts[i];\n        }\n  \n        // If inline source matches, return the script tag\n        if (\n          scriptLocation === currentLocation &&\n          scripts[i].innerHTML &&\n          scripts[i].innerHTML.trim() === inlineScriptSource\n        ) {\n          return scripts[i];\n        }\n      }\n  \n      // If no match, return null\n      return null;\n    }\n  };\n\n  return getCurrentScript\n}));\n","module.exports = __WEBPACK_EXTERNAL_MODULE__8bbf__;","// This file is imported into lib/wc client bundles.\n\nif (typeof window !== 'undefined') {\n  var currentScript = window.document.currentScript\n  if (process.env.NEED_CURRENTSCRIPT_POLYFILL) {\n    var getCurrentScript = require('@soda/get-current-script')\n    currentScript = getCurrentScript()\n\n    // for backward compatibility, because previously we directly included the polyfill\n    if (!('currentScript' in document)) {\n      Object.defineProperty(document, 'currentScript', { get: getCurrentScript })\n    }\n  }\n\n  var src = currentScript && currentScript.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/)\n  if (src) {\n    __webpack_public_path__ = src[1] // eslint-disable-line\n  }\n}\n\n// Indicate to webpack that this file can be concatenated\nexport default null\n","<template>\r\n  <div\r\n    class=\"vdr\"\r\n    :style=\"{ ...style, transform: 'rotateZ(' + deg + 'Deg)' }\"\r\n    :ref=\"defineCurrent\"\r\n    tabIndex=\"-1\"\r\n    @click=\"clickSon($event)\"\r\n    :class=\"active || isActive ? 'active' : 'inactive'\"\r\n    @mousedown.stop.prevent=\"bodyDown($event)\"\r\n    @touchstart.stop.prevent=\"bodyDown($event)\"\r\n  >\r\n    <slot></slot>\r\n    <div\r\n      v-for=\"(stick, key) in sticks\"\r\n      :key=\"key\"\r\n      class=\"vdr-stick\"\r\n      :class=\"['vdr-stick-' + stick, isResizable ? '' : 'not-resizable']\"\r\n      @mousedown.stop.prevent=\"stickDown(stick, $event)\"\r\n      @touchstart.stop.prevent=\"stickDown(stick, $event)\"\r\n      :style=\"vdrStick(stick)\"\r\n    ></div>\r\n    <div\r\n      class=\"vdr-stick\"\r\n      :class=\"['vdr-stick-' + 'ro', isRotatable ? '' : 'not-rotatable']\"\r\n      @mousedown.stop.prevent=\"rotateDown($event)\"\r\n      @touchstart.stop.prevent=\"rotateDown($event)\"\r\n      :style=\"vdrStick('ro')\"\r\n      :ref=\"defineRo\"\r\n    ></div>\r\n    <!-- <span\r\n      class=\"iconfont icon-rotate\"\r\n      :style=\"currentHalfWidth\"\r\n      v-show=\"isRotatable && active\"\r\n      @mousedown.stop.prevent=\"rotateDown($event)\"\r\n      @touchstart.stop.prevent=\"rotateDown($event)\"\r\n    ></span> -->\r\n  </div>\r\n</template>\r\n<script>\r\nimport { ref, onMounted } from 'vue'\r\n\r\nconst stickSize = 8\r\nconst styleMapping = {\r\n  y: {\r\n    t: 'top',\r\n    m: 'marginTop',\r\n    b: 'bottom',\r\n    r: 'marginTop'\r\n  },\r\n  x: {\r\n    l: 'left',\r\n    m: 'marginLeft',\r\n    r: 'right',\r\n    o: 'marginLeft'\r\n  }\r\n}\r\nexport default {\r\n  name: 'vue-drag-resize-rotate',\r\n  emits: [\r\n    'rotating',\r\n    'rotatestop',\r\n    'resizing',\r\n    'resizestop',\r\n    'dragging',\r\n    'dragstop',\r\n    'clicked',\r\n    'activated',\r\n    'deactivated'\r\n  ],\r\n  props: {\r\n    deg: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    item: {},\r\n    parentScaleX: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n    parentScaleY: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n    isActive: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    preventActiveBehavior: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    isRotatable: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    isDraggable: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    isResizable: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    aspectRatio: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    parentLimitation: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    parentW: {\r\n      type: Number,\r\n      default: 0,\r\n      validator: function (val) {\r\n        return val >= 0\r\n      }\r\n    },\r\n    parentH: {\r\n      type: Number,\r\n      default: 0,\r\n      validator: function (val) {\r\n        return val >= 0\r\n      }\r\n    },\r\n    w: {\r\n      type: Number,\r\n      default: 100,\r\n      validator: function (val) {\r\n        return val > 0\r\n      }\r\n    },\r\n    h: {\r\n      type: Number,\r\n      default: 30,\r\n      validator: function (val) {\r\n        return val > 0\r\n      }\r\n    },\r\n    minw: {\r\n      type: Number,\r\n      default: 50,\r\n      validator: function (val) {\r\n        return val > 0\r\n      }\r\n    },\r\n    minh: {\r\n      type: Number,\r\n      default: 10,\r\n      validator: function (val) {\r\n        return val > 0\r\n      }\r\n    },\r\n    x: {\r\n      type: Number,\r\n      default: 0,\r\n      validator: function (val) {\r\n        return typeof val === 'number'\r\n      }\r\n    },\r\n    y: {\r\n      type: Number,\r\n      default: 0,\r\n      validator: function (val) {\r\n        return typeof val === 'number'\r\n      }\r\n    },\r\n    z: {\r\n      type: [String, Number],\r\n      default: 'auto',\r\n      validator: function (val) {\r\n        let valid = typeof val === 'string' ? val === 'auto' : val >= 0\r\n        return valid\r\n      }\r\n    },\r\n    dragHandle: {\r\n      type: String,\r\n      default: null\r\n    },\r\n    dragCancel: {\r\n      type: String,\r\n      default: null\r\n    },\r\n    sticks: {\r\n      type: Array,\r\n      default: function () {\r\n        return ['tl', 'tm', 'tr', 'mr', 'br', 'bm', 'bl', 'ml']\r\n      }\r\n    },\r\n    aspectRatioSticks: {\r\n      type: Array,\r\n      default: function () {\r\n        return ['tl', 'tm', 'tr', 'mr', 'br', 'bm', 'bl', 'ml']\r\n      }\r\n    },\r\n    axis: {\r\n      type: String,\r\n      default: 'both',\r\n      validator: function (val) {\r\n        return ['x', 'y', 'both', 'none'].indexOf(val) !== -1\r\n      }\r\n    },\r\n    snapToGrid: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    gridX: {\r\n      type: Number,\r\n      default: 50,\r\n      validator(val) {\r\n        return val > 0\r\n      }\r\n    },\r\n    gridY: {\r\n      type: Number,\r\n      default: 50,\r\n      validator(val) {\r\n        return val > 0\r\n      }\r\n    },\r\n    type: {}\r\n  },\r\n  data: function () {\r\n    return {\r\n      rawDeg: this.deg,\r\n      rotateCenter: [],\r\n      rotateEnd: [],\r\n      rotateStart: [],\r\n      active: this.isActive,\r\n      rawWidth: this.w,\r\n      rawHeight: this.h,\r\n      rawLeft: this.x,\r\n      rawTop: this.y,\r\n      rawRight: null,\r\n      rawBottom: null,\r\n      zIndex: this.z,\r\n      aspectFactor: this.w / this.h,\r\n      parentWidth: null,\r\n      parentHeight: null,\r\n      left: this.x,\r\n      top: this.y,\r\n      right: null,\r\n      bottom: null,\r\n      minWidth: this.minw,\r\n      minHeight: this.minh,\r\n      currentFixArray: [],\r\n      currentFixSpot: [],\r\n      ratioStick: null,\r\n      finalFixArray: [],\r\n\r\n      current: null,\r\n      ro: null\r\n    }\r\n  },\r\n  // setup(props, context) {\r\n  //     let rawDeg = this.deg\r\n  //     let rotateCenter= []\r\n  //     let rotateEnd= []\r\n  //     let rotateStart= []\r\n  //     let active= this.isActive\r\n  //     let rawWidth= this.w\r\n  //     let rawHeight= this.h\r\n  //     let rawLeft= this.x\r\n  //     let rawTop= this.y\r\n  //     let rawRight= null\r\n  //     let rawBottom= null\r\n  //     let zIndex= this.z\r\n  //     let aspectFactor= this.w / this.h\r\n  //     let parentWidth= null\r\n  //     let parentHeight= null\r\n  //     let left= this.x\r\n  //     let top= this.y\r\n  //     let right= null\r\n  //     let bottom= null\r\n  //     let minWidth= this.minw\r\n  //     let minHeight= this.minh\r\n  //     let currentFixArray= []\r\n  //     let currentFixSpot= []\r\n  //     let ratioStick= null\r\n  //     let finalFixArray= []\r\n  //   //set the sticks refs\r\n  //   let current = ref(null)\r\n  //   let ro = ref(null)\r\n  //   onMounted(() => {\r\n  //     console.log(current)\r\n  //     console.log(current.value)\r\n  //   })\r\n  //   return {\r\n  //     current,\r\n  //     ro\r\n  //   }\r\n  // },\r\n  created: function () {\r\n    this.stickDrag = false\r\n    this.bodyDrag = false\r\n    this.rotateDrag = false\r\n    this.stickAxis = null\r\n    this.stickStartPos = { mouseX: 0, mouseY: 0, x: 0, y: 0, w: 0, h: 0 }\r\n    this.limits = {\r\n      minLeft: null,\r\n      maxLeft: null,\r\n      minRight: null,\r\n      maxRight: null,\r\n      minTop: null,\r\n      maxTop: null,\r\n      minBottom: null,\r\n      maxBottom: null\r\n    }\r\n    this.currentStick = []\r\n  },\r\n  mounted: function () {\r\n    this.calcuFather()\r\n    document.documentElement.addEventListener('mousemove', this.move)\r\n    document.documentElement.addEventListener('mouseup', this.up)\r\n    document.documentElement.addEventListener('mouseleave', this.up)\r\n    document.documentElement.addEventListener('mousedown', this.deselect)\r\n    document.documentElement.addEventListener('touchmove', this.move, true)\r\n    document.documentElement.addEventListener('touchend touchcancel', this.up, true)\r\n    document.documentElement.addEventListener('touchstart', this.up, true)\r\n    this.getCenter()\r\n    if (this.dragHandle) {\r\n      let dragHandles = Array.prototype.slice.call(this.$el.querySelectorAll(this.dragHandle))\r\n      for (let i in dragHandles) {\r\n        dragHandles[i].setAttribute('data-drag-handle', this._uid)\r\n      }\r\n    }\r\n    if (this.dragCancel) {\r\n      let cancelHandles = Array.prototype.slice.call(this.$el.querySelectorAll(this.dragCancel))\r\n      for (let i in cancelHandles) {\r\n        cancelHandles[i].setAttribute('data-drag-cancel', this._uid)\r\n      }\r\n    }\r\n  },\r\n  beforeUnmount: function () {\r\n    document.documentElement.removeEventListener('mousemove', this.move)\r\n    document.documentElement.removeEventListener('mouseup', this.up)\r\n    document.documentElement.removeEventListener('mouseleave', this.up)\r\n    document.documentElement.removeEventListener('mousedown', this.deselect)\r\n    document.documentElement.removeEventListener('touchmove', this.move, true)\r\n    document.documentElement.removeEventListener('touchend touchcancel', this.up, true)\r\n    document.documentElement.removeEventListener('touchstart', this.up, true)\r\n  },\r\n  methods: {\r\n    debounce(method, context, params) {\r\n      clearTimeout(method.timeout)\r\n      method.timeout = setTimeout(function () {\r\n        method.call(context, params)\r\n      }, 300)\r\n    },\r\n    defineCurrent(el) {\r\n      if (el) {\r\n        this.current = el\r\n      }\r\n    },\r\n    defineRo(el) {\r\n      if (el) {\r\n        this.ro = el\r\n      }\r\n    },\r\n    getCenter() {\r\n      let el = this.current\r\n      this.rotateCenter = [\r\n        el.getBoundingClientRect().left + el.getBoundingClientRect().width / 2,\r\n        el.getBoundingClientRect().top + el.getBoundingClientRect().height / 2\r\n      ]\r\n    },\r\n    clickSon(e) {\r\n      e.target.focus()\r\n      e.stopPropagation()\r\n    },\r\n    calcuFather() {\r\n      this.parentElement = this.$el.parentNode\r\n      this.parentWidth = this.parentW ? this.parentW : this.parentElement.clientWidth\r\n      this.parentHeight = this.parentH ? this.parentH : this.parentElement.clientHeight\r\n      this.rawRight = this.parentWidth - this.rawWidth - this.rawLeft\r\n      this.rawBottom = this.parentHeight - this.rawHeight - this.rawTop\r\n    },\r\n    deselect() {\r\n      if (this.preventActiveBehavior) {\r\n        return\r\n      }\r\n      this.active = false\r\n    },\r\n    move(ev) {\r\n      if (!this.stickDrag && !this.bodyDrag && !this.rotateDrag) {\r\n        return\r\n      }\r\n      ev.stopPropagation()\r\n      if (this.stickDrag) {\r\n        this.stickMove(ev)\r\n      }\r\n      if (this.bodyDrag) {\r\n        this.bodyMove(ev)\r\n      }\r\n      if (this.rotateDrag) {\r\n        this.rotateMove(ev)\r\n      }\r\n    },\r\n    up(ev) {\r\n      if (this.stickDrag) {\r\n        this.stickUp(ev)\r\n      }\r\n      if (this.bodyDrag) {\r\n        this.bodyUp(ev)\r\n      }\r\n      if (this.rotateDrag) {\r\n        this.rotateUp(ev)\r\n      }\r\n    },\r\n    bodyDown: function (ev) {\r\n      let target = ev.target || ev.srcElement\r\n      if (!this.preventActiveBehavior) {\r\n        this.active = true\r\n      }\r\n      if (ev.button && ev.button !== 0) {\r\n        return\r\n      }\r\n      this.$emit('clicked', ev)\r\n      if (!this.isDraggable || !this.active) {\r\n        return\r\n      }\r\n      if (this.dragHandle && target.getAttribute('data-drag-handle') !== this._uid.toString()) {\r\n        return\r\n      }\r\n      if (this.dragCancel && target.getAttribute('data-drag-cancel') === this._uid.toString()) {\r\n        return\r\n      }\r\n      this.bodyDrag = true\r\n      this.stickStartPos.mouseX = ev.pageX || ev.touches[0].pageX\r\n      this.stickStartPos.mouseY = ev.pageY || ev.touches[0].pageY\r\n      this.stickStartPos.left = this.left\r\n      this.stickStartPos.right = this.right\r\n      this.stickStartPos.top = this.top\r\n      this.stickStartPos.bottom = this.bottom\r\n      if (this.parentLimitation) {\r\n        this.limits = this.calcDragLimitation()\r\n      }\r\n    },\r\n    calcDragLimitation() {\r\n      const parentWidth = this.parentWidth\r\n      const parentHeight = this.parentHeight\r\n      return {\r\n        minLeft: 0,\r\n        maxLeft: parentWidth - this.width,\r\n        minRight: 0,\r\n        maxRight: parentWidth - this.width,\r\n        minTop: 0,\r\n        maxTop: parentHeight - this.height,\r\n        minBottom: 0,\r\n        maxBottom: parentHeight - this.height\r\n      }\r\n    },\r\n    bodyMove(ev) {\r\n      const stickStartPos = this.stickStartPos\r\n      let delta = {\r\n        x:\r\n          (this.axis !== 'y' && this.axis !== 'none' ? stickStartPos.mouseX - (ev.pageX || ev.touches[0].pageX) : 0) /\r\n          this.parentScaleX,\r\n        y:\r\n          (this.axis !== 'x' && this.axis !== 'none' ? stickStartPos.mouseY - (ev.pageY || ev.touches[0].pageY) : 0) /\r\n          this.parentScaleY\r\n      }\r\n      this.rawTop = stickStartPos.top - delta.y\r\n      this.rawBottom = stickStartPos.bottom + delta.y\r\n      this.rawLeft = stickStartPos.left - delta.x\r\n      this.rawRight = stickStartPos.right + delta.x\r\n      if (this.snapToGrid) {\r\n        let alignTop = true\r\n        let alignLeft = true\r\n\r\n        let diffT = this.rawTop - Math.floor(this.rawTop / this.gridY) * this.gridY\r\n        let diffB =\r\n          this.parentHeight -\r\n          this.rawBottom -\r\n          Math.floor((this.parentHeight - this.rawBottom) / this.gridY) * this.gridY\r\n        let diffL = this.rawLeft - Math.floor(this.rawLeft / this.gridX) * this.gridX\r\n        let diffR =\r\n          this.parentWidth - this.rawRight - Math.floor((this.parentWidth - this.rawRight) / this.gridX) * this.gridX\r\n\r\n        if (diffT > this.gridY / 2) {\r\n          diffT -= this.gridY\r\n        }\r\n        if (diffB > this.gridY / 2) {\r\n          diffB -= this.gridY\r\n        }\r\n        if (diffL > this.gridX / 2) {\r\n          diffL -= this.gridX\r\n        }\r\n        if (diffR > this.gridX / 2) {\r\n          diffR -= this.gridX\r\n        }\r\n\r\n        if (Math.abs(diffB) < Math.abs(diffT)) {\r\n          alignTop = false\r\n        }\r\n        if (Math.abs(diffR) < Math.abs(diffL)) {\r\n          alignLeft = false\r\n        }\r\n\r\n        this.rawTop -= alignTop ? diffT : diffB\r\n        this.rawBottom = this.parentHeight - this.height - this.rawTop\r\n        this.rawLeft -= alignLeft ? diffL : diffR\r\n        this.rawRight = this.parentWidth - this.width - this.rawLeft\r\n      }\r\n\r\n      this.$emit('dragging', this.rect)\r\n    },\r\n    bodyUp() {\r\n      this.bodyDrag = false\r\n      this.$emit('dragging', this.rect)\r\n      this.$emit('dragstop', this.rect)\r\n      this.stickStartPos = { mouseX: 0, mouseY: 0, x: 0, y: 0, w: 0, h: 0 }\r\n      this.limits = {\r\n        minLeft: null,\r\n        maxLeft: null,\r\n        minRight: null,\r\n        maxRight: null,\r\n        minTop: null,\r\n        maxTop: null,\r\n        minBottom: null,\r\n        maxBottom: null\r\n      }\r\n    },\r\n    rotateDown: function (ev) {\r\n      if (!this.isRotatable || !this.active) {\r\n        return\r\n      }\r\n      this.getCenter()\r\n      this.rotateDrag = true\r\n      this.rotateStart = [ev.clientX || ev.touches[0].pageX, ev.clientY || ev.touches[0].pageY]\r\n    },\r\n    rotateMove(event) {\r\n      var el = this.current\r\n      let a = this.calculLength(\r\n        this.rotateStart[0],\r\n        event.clientX || event.touches[0].pageX,\r\n        this.rotateStart[1],\r\n        event.clientY || event.touches[0].pageY\r\n      )\r\n      let c = this.calculLength(this.rotateStart[0], this.rotateCenter[0], this.rotateStart[1], this.rotateCenter[1])\r\n      let b = this.calculLength(\r\n        this.rotateCenter[0],\r\n        event.clientX || event.touches[0].pageX,\r\n        this.rotateCenter[1],\r\n        event.clientY || event.touches[0].pageY\r\n      )\r\n      let direct =\r\n        this.calculClock(\r\n          this.rotateCenter[0],\r\n          this.rotateCenter[1],\r\n          this.rotateStart[0],\r\n          this.rotateStart[1],\r\n          event.clientX || event.touches[0].pageX,\r\n          event.clientY || event.touches[0].pageY\r\n        ) >= 0\r\n      let rawDeg = this.calculrawDegA(a, b, c)\r\n      rawDeg = Math.abs(rawDeg)\r\n      //determine clockwise\r\n      if (!direct) {\r\n        rawDeg = 0 - rawDeg\r\n      }\r\n      var srawDeg = this.rawDeg\r\n      srawDeg += rawDeg\r\n      Math.abs(srawDeg) > 360 ? (srawDeg %= 360) : true\r\n      this.rawDeg = srawDeg\r\n      this.rotateStart[0] = event.clientX || event.touches[0].pageX\r\n      this.rotateStart[1] = event.clientY || event.touches[0].pageY\r\n      this.$emit('rotating', this.rawDeg)\r\n    },\r\n    rotateUp() {\r\n      this.rotateDrag = false\r\n      this.$emit('rotating', this.rawDeg)\r\n      this.$emit('rotatestop', this.rawDeg)\r\n    },\r\n    stickDown: function (stick, ev) {\r\n      if (!this.isResizable || !this.active) {\r\n        return\r\n      }\r\n      this.stickDrag = true\r\n      this.currentFixArray = [this.ro.getBoundingClientRect().x, this.ro.getBoundingClientRect().y]\r\n      switch (stick) {\r\n        case 'tl':\r\n          this.current.style.transformOrigin = 'bottom right'\r\n          break\r\n        case 'tm':\r\n          this.current.style.transformOrigin = 'bottom center'\r\n          break\r\n        case 'tr':\r\n          this.current.style.transformOrigin = 'bottom left'\r\n          break\r\n        case 'mr':\r\n          this.current.style.transformOrigin = 'left center'\r\n          break\r\n        case 'br':\r\n          this.current.style.transformOrigin = 'top left'\r\n          break\r\n        case 'bm':\r\n          this.current.style.transformOrigin = 'top center'\r\n          break\r\n        case 'bl':\r\n          this.current.style.transformOrigin = 'top right'\r\n          break\r\n        case 'ml':\r\n          this.current.style.transformOrigin = 'right center'\r\n          break\r\n      }\r\n      // eslint-disable-next-line prettier/prettier\r\n      if (this.ro[0] === undefined) {\r\n        this.finalFixArray = [\r\n          this.currentFixArray[0] - this.ro.getBoundingClientRect().x,\r\n          this.currentFixArray[1] - this.ro.getBoundingClientRect().y\r\n        ]\r\n      } else {\r\n        this.finalFixArray = [\r\n          this.currentFixArray[0] - this.ro[0].getBoundingClientRect().x,\r\n          this.currentFixArray[1] - this.ro[0].getBoundingClientRect().y\r\n        ]\r\n      }\r\n      this.left = this.left + this.finalFixArray[0] / this.parentScaleX\r\n      this.right = this.right - this.finalFixArray[0] / this.parentScaleX\r\n      this.top = this.top + this.finalFixArray[1] / this.parentScaleY\r\n      this.bottom = this.bottom - this.finalFixArray[1] / this.parentScaleY\r\n      this.stickStartPos.mouseX = ev.pageX || ev.touches[0].pageX\r\n      this.stickStartPos.mouseY = ev.pageY || ev.touches[0].pageY\r\n      this.stickStartPos.left = this.left\r\n      this.stickStartPos.right = this.right\r\n      this.stickStartPos.top = this.top\r\n      this.stickStartPos.bottom = this.bottom\r\n      this.currentStick = stick.split('')\r\n      this.ratioStick = stick\r\n      this.stickAxis = null\r\n      switch (this.currentStick[0]) {\r\n        case 'b':\r\n          this.stickAxis = 'y'\r\n          break\r\n        case 't':\r\n          this.stickAxis = 'y'\r\n          break\r\n      }\r\n      switch (this.currentStick[1]) {\r\n        case 'r':\r\n          this.stickAxis = this.stickAxis === 'y' ? 'xy' : 'x'\r\n          break\r\n        case 'l':\r\n          this.stickAxis = this.stickAxis === 'y' ? 'xy' : 'x'\r\n          break\r\n      }\r\n      this.limits = this.calcResizeLimitation()\r\n    },\r\n    calcResizeLimitation() {\r\n      let minw = this.minWidth\r\n      let minh = this.minHeight\r\n      const aspectFactor = this.aspectFactor\r\n      const width = this.width\r\n      const height = this.height\r\n      const bottom = this.bottom\r\n      const top = this.top\r\n      const left = this.left\r\n      const right = this.right\r\n      const stickAxis = this.stickAxis\r\n      const parentLim = this.parentLimitation ? 0 : null\r\n      if (this.aspectRatio) {\r\n        if (minw / minh > aspectFactor) {\r\n          minh = minw / aspectFactor\r\n        } else {\r\n          minw = aspectFactor * minh\r\n        }\r\n      }\r\n      let limits = {\r\n        minLeft: parentLim,\r\n        maxLeft: left + (width - minw),\r\n        minRight: parentLim,\r\n        maxRight: right + (width - minw),\r\n        minTop: parentLim,\r\n        maxTop: top + (height - minh),\r\n        minBottom: parentLim,\r\n        maxBottom: bottom + (height - minh)\r\n      }\r\n      if (this.aspectRatio) {\r\n        const aspectLimits = {\r\n          minLeft: left - Math.min(top, bottom) * aspectFactor * 2,\r\n          maxLeft: left + ((height - minh) / 2) * aspectFactor * 2,\r\n          minRight: right - Math.min(top, bottom) * aspectFactor * 2,\r\n          maxRight: right + ((height - minh) / 2) * aspectFactor * 2,\r\n          minTop: top - (Math.min(left, right) / aspectFactor) * 2,\r\n          maxTop: top + ((width - minw) / 2 / aspectFactor) * 2,\r\n          minBottom: bottom - (Math.min(left, right) / aspectFactor) * 2,\r\n          maxBottom: bottom + ((width - minw) / 2 / aspectFactor) * 2\r\n        }\r\n        if (stickAxis === 'x') {\r\n          limits = {\r\n            minLeft: Math.max(limits.minLeft, aspectLimits.minLeft),\r\n            maxLeft: Math.min(limits.maxLeft, aspectLimits.maxLeft),\r\n            minRight: Math.max(limits.minRight, aspectLimits.minRight),\r\n            maxRight: Math.min(limits.maxRight, aspectLimits.maxRight)\r\n          }\r\n        } else if (stickAxis === 'y') {\r\n          limits = {\r\n            minTop: Math.max(limits.minTop, aspectLimits.minTop),\r\n            maxTop: Math.min(limits.maxTop, aspectLimits.maxTop),\r\n            minBottom: Math.max(limits.minBottom, aspectLimits.minBottom),\r\n            maxBottom: Math.min(limits.maxBottom, aspectLimits.maxBottom)\r\n          }\r\n        }\r\n      }\r\n      return limits\r\n    },\r\n    stickMove(ev) {\r\n      if ((ev.pageX || ev.touches != undefined) && (ev.pageY || ev.touches != undefined)) {\r\n        const stickStartPos = this.stickStartPos\r\n        const delta = {\r\n          x: (stickStartPos.mouseX - (ev.pageX || ev.touches[0].pageX)) / this.parentScaleX,\r\n          y: (stickStartPos.mouseY - (ev.pageY || ev.touches[0].pageY)) / this.parentScaleY\r\n        }\r\n        let tempDeltaX =\r\n          Math.cos((-this.deg * Math.PI) / 180) * delta.x - Math.sin((-this.deg * Math.PI) / 180) * delta.y\r\n        let tempDeltaY =\r\n          Math.sin((-this.deg * Math.PI) / 180) * delta.x + Math.cos((-this.deg * Math.PI) / 180) * delta.y\r\n        delta.x = tempDeltaX\r\n        delta.y = tempDeltaY\r\n        switch (this.currentStick[0]) {\r\n          case 'b':\r\n            this.rawBottom = stickStartPos.bottom + delta.y\r\n            break\r\n          case 't':\r\n            this.rawTop = stickStartPos.top - delta.y\r\n            break\r\n        }\r\n        switch (this.currentStick[1]) {\r\n          case 'r':\r\n            this.rawRight = stickStartPos.right + delta.x\r\n            break\r\n          case 'l':\r\n            this.rawLeft = stickStartPos.left - delta.x\r\n            break\r\n        }\r\n        this.$emit('resizing', this.rect)\r\n      }\r\n    },\r\n    stickUp() {\r\n      this.stickDrag = false\r\n      this.stickStartPos = {\r\n        mouseX: 0,\r\n        mouseY: 0,\r\n        x: 0,\r\n        y: 0,\r\n        w: 0,\r\n        h: 0\r\n      }\r\n      this.limits = {\r\n        minLeft: null,\r\n        maxLeft: null,\r\n        minRight: null,\r\n        maxRight: null,\r\n        minTop: null,\r\n        maxTop: null,\r\n        minBottom: null,\r\n        maxBottom: null\r\n      }\r\n      if (this.ro[0] === undefined) {\r\n        this.currentFixArray = [this.ro.getBoundingClientRect().x, this.ro.getBoundingClientRect().y]\r\n        this.current.style.transformOrigin = 'center center'\r\n        this.finalFixArray = [\r\n          this.currentFixArray[0] - this.ro.getBoundingClientRect().x,\r\n          this.currentFixArray[1] - this.ro.getBoundingClientRect().y\r\n        ]\r\n      } else {\r\n        this.currentFixArray = [this.ro[0].getBoundingClientRect().x, this.ro[0].getBoundingClientRect().y]\r\n        this.current.style.transformOrigin = 'center center'\r\n        this.finalFixArray = [\r\n          this.currentFixArray[0] - this.ro[0].getBoundingClientRect().x,\r\n          this.currentFixArray[1] - this.ro[0].getBoundingClientRect().y\r\n        ]\r\n      }\r\n      this.left = this.left + this.finalFixArray[0] / this.parentScaleX\r\n      this.right = this.right - this.finalFixArray[0] / this.parentScaleX\r\n      this.top = this.top + this.finalFixArray[1] / this.parentScaleY\r\n      this.bottom = this.bottom - this.finalFixArray[1] / this.parentScaleY\r\n      // this.rawTop = this.top\r\n      // this.rawBottom = this.bottom\r\n      // this.rawLeft = this.left\r\n      // this.rawRight = this.right\r\n      this.stickAxis = null\r\n      this.$emit('resizing', this.rect)\r\n      this.$emit('resizestop', this.rect)\r\n    },\r\n    aspectRatioCorrection() {\r\n      if (!this.aspectRatioStickFlag) {\r\n        return\r\n      }\r\n      const bottom = this.bottom\r\n      const top = this.top\r\n      const left = this.left\r\n      const right = this.right\r\n      const width = this.width\r\n      const height = this.height\r\n      const aspectFactor = this.aspectFactor\r\n      const currentStick = this.currentStick\r\n      if (width / height > aspectFactor) {\r\n        let newWidth = aspectFactor * height\r\n        if (currentStick[1] === 'l') {\r\n          this.left = left + width - newWidth\r\n        } else {\r\n          this.right = right + width - newWidth\r\n        }\r\n      } else {\r\n        let newHeight = width / aspectFactor\r\n        if (currentStick[0] === 't') {\r\n          this.top = top + height - newHeight\r\n        } else {\r\n          this.bottom = bottom + height - newHeight\r\n        }\r\n      }\r\n    },\r\n    //朴素的两点间距离公式\r\n    calculLength(x1, x2, y1, y2) {\r\n      return Math.hypot(x1 - x2, y1 - y2)\r\n    },\r\n    //余弦定理求角度\r\n    calculrawDegA(a, b, c) {\r\n      return Math.acos((b * b + c * c - a * a) / (2 * b * c)) * (180 / Math.PI)\r\n    },\r\n    //六个点坐标，通过矢量叉积获取旋转方向\r\n    calculClock(x1, y1, x2, y2, x3, y3) {\r\n      return (x2 - x1) * (y3 - y1) - (y2 - y1) * (x3 - x1)\r\n    }\r\n  },\r\n  computed: {\r\n    currentHalfWidth() {\r\n      return {\r\n        'font-size': '30px',\r\n        position: 'absolute',\r\n        top: '-50px',\r\n        cursor: 'pointer',\r\n        left: '50%',\r\n        marginLeft: '-12px',\r\n        color: '#888888'\r\n      }\r\n    },\r\n    style() {\r\n      return {\r\n        top: this.top + 'px',\r\n        left: this.left + 'px',\r\n        width: this.width + 'px',\r\n        height: this.height + 'px',\r\n        zIndex: this.zIndex\r\n      }\r\n    },\r\n    vdrStick() {\r\n      return stick => {\r\n        const stickStyle = {\r\n          width: `${stickSize / this.parentScaleX}px`,\r\n          height: `${stickSize / this.parentScaleY}px`\r\n        }\r\n\r\n        stickStyle[styleMapping.y[stick[0]]] = `${stickSize / this.parentScaleX / -2}px`\r\n        stickStyle[styleMapping.x[stick[1]]] = `${stickSize / this.parentScaleX / -2}px`\r\n\r\n        return stickStyle\r\n      }\r\n    },\r\n    width() {\r\n      return this.parentWidth - this.left - this.right\r\n    },\r\n    height() {\r\n      return this.parentHeight - this.top - this.bottom\r\n    },\r\n    rect() {\r\n      return {\r\n        left: Math.round(this.left),\r\n        top: Math.round(this.top),\r\n        width: Math.round(this.width),\r\n        height: Math.round(this.height)\r\n      }\r\n    },\r\n    aspectRatioStickFlag() {\r\n      if (this.aspectRatioSticks.indexOf(this.ratioStick) >= 0 && this.aspectRatio) {\r\n        return true\r\n      }\r\n      return false\r\n    }\r\n  },\r\n  watch: {\r\n    rawLeft(newLeft) {\r\n      if (this.aspectRatioStickFlag == false) {\r\n        this.aspectFactor = this.width / this.height\r\n      }\r\n      const limits = this.limits\r\n      const stickAxis = this.stickAxis\r\n      const aspectFactor = this.aspectFactor\r\n      const aspectRatio = this.aspectRatio\r\n      const left = this.left\r\n      const bottom = this.bottom\r\n      const top = this.top\r\n      if (limits.minLeft !== null && newLeft < limits.minLeft) {\r\n        newLeft = limits.minLeft\r\n      } else if (limits.maxLeft !== null && limits.maxLeft < newLeft) {\r\n        newLeft = limits.maxLeft\r\n      }\r\n      if (this.aspectRatioStickFlag && stickAxis === 'x') {\r\n        const delta = left - newLeft\r\n        this.rawTop = top - delta / aspectFactor / 2\r\n        this.rawBottom = bottom - delta / aspectFactor / 2\r\n      }\r\n      this.left = newLeft\r\n    },\r\n    rawRight(newRight) {\r\n      const limits = this.limits\r\n      const stickAxis = this.stickAxis\r\n      const aspectFactor = this.aspectFactor\r\n      const aspectRatio = this.aspectRatio\r\n      const right = this.right\r\n      const bottom = this.bottom\r\n      const top = this.top\r\n      if (limits.minRight !== null && newRight < limits.minRight) {\r\n        newRight = limits.minRight\r\n      } else if (limits.maxRight !== null && limits.maxRight < newRight) {\r\n        newRight = limits.maxRight\r\n      }\r\n      if (this.aspectRatioStickFlag && stickAxis === 'x') {\r\n        const delta = right - newRight\r\n        this.rawTop = top - delta / aspectFactor / 2\r\n        this.rawBottom = bottom - delta / aspectFactor / 2\r\n      }\r\n      this.right = newRight\r\n    },\r\n    rawTop(newTop) {\r\n      if (this.aspectRatioStickFlag == false) {\r\n        this.aspectFactor = this.width / this.height\r\n      }\r\n      const limits = this.limits\r\n      const stickAxis = this.stickAxis\r\n      const aspectFactor = this.aspectFactor\r\n      const aspectRatio = this.aspectRatio\r\n      const right = this.right\r\n      const left = this.left\r\n      const top = this.top\r\n      if (limits.minTop !== null && newTop < limits.minTop) {\r\n        newTop = limits.minTop\r\n      } else if (limits.maxTop !== null && limits.maxTop < newTop) {\r\n        newTop = limits.maxTop\r\n      }\r\n      if (this.aspectRatioStickFlag && stickAxis === 'y') {\r\n        const delta = top - newTop\r\n        this.rawLeft = left - (delta * aspectFactor) / 2\r\n        this.rawRight = right - (delta * aspectFactor) / 2\r\n      }\r\n      this.top = newTop\r\n    },\r\n    rawBottom(newBottom) {\r\n      const limits = this.limits\r\n      const stickAxis = this.stickAxis\r\n      const aspectFactor = this.aspectFactor\r\n      const aspectRatio = this.aspectRatio\r\n      const right = this.right\r\n      const left = this.left\r\n      const bottom = this.bottom\r\n      if (limits.minBottom !== null && newBottom < limits.minBottom) {\r\n        newBottom = limits.minBottom\r\n      } else if (limits.maxBottom !== null && limits.maxBottom < newBottom) {\r\n        newBottom = limits.maxBottom\r\n      }\r\n      if (this.aspectRatioStickFlag && stickAxis === 'y') {\r\n        const delta = bottom - newBottom\r\n        this.rawLeft = left - (delta * aspectFactor) / 2\r\n        this.rawRight = right - (delta * aspectFactor) / 2\r\n      }\r\n      this.bottom = newBottom\r\n    },\r\n    width() {\r\n      this.aspectRatioCorrection()\r\n    },\r\n    height() {\r\n      this.aspectRatioCorrection()\r\n    },\r\n    active(isActive) {\r\n      if (isActive) {\r\n        this.$emit('activated')\r\n      } else {\r\n        this.$emit('deactivated')\r\n      }\r\n    },\r\n    isActive(val) {\r\n      this.active = val\r\n    },\r\n    z(val) {\r\n      if (val >= 0 || val === 'auto') {\r\n        this.zIndex = val\r\n      }\r\n    },\r\n    aspectRatio(val) {\r\n      if (val) {\r\n        this.aspectFactor = this.width / this.height\r\n      }\r\n    },\r\n    minw(val) {\r\n      if (val > 0 && val <= this.width) {\r\n        this.minWidth = val\r\n      }\r\n    },\r\n    minh(val) {\r\n      if (val > 0 && val <= this.height) {\r\n        this.minHeight = val\r\n      }\r\n    },\r\n    x() {\r\n      if (this.stickDrag || this.bodyDrag) {\r\n        return\r\n      }\r\n      if (this.parentLimitation) {\r\n        this.limits = this.calcDragLimitation()\r\n      }\r\n      let delta = this.x - this.left\r\n      this.rawLeft = this.x\r\n      this.rawRight = this.right - delta\r\n    },\r\n    y() {\r\n      if (this.stickDrag || this.bodyDrag) {\r\n        return\r\n      }\r\n      if (this.parentLimitation) {\r\n        this.limits = this.calcDragLimitation()\r\n      }\r\n      let delta = this.y - this.top\r\n      this.rawTop = this.y\r\n      this.rawBottom = this.bottom - delta\r\n    },\r\n    w() {\r\n      if (this.stickDrag || this.bodyDrag) {\r\n        return\r\n      }\r\n      this.currentStick = ['m', 'r']\r\n      this.stickAxis = 'x'\r\n      if (this.parentLimitation) {\r\n        this.limits = this.calcResizeLimitation()\r\n      }\r\n      let delta = this.width - this.w\r\n      this.rawRight = this.right + delta\r\n    },\r\n    h() {\r\n      if (this.stickDrag || this.bodyDrag) {\r\n        return\r\n      }\r\n      this.currentStick = ['b', 'm']\r\n      this.stickAxis = 'y'\r\n      if (this.parentLimitation) {\r\n        this.limits = this.calcResizeLimitation()\r\n      }\r\n      let delta = this.height - this.h\r\n      this.rawBottom = this.bottom + delta\r\n    },\r\n    parentW(val) {\r\n      this.right = val - this.width - this.left\r\n      this.parentWidth = val\r\n    },\r\n    parentH(val) {\r\n      this.bottom = val - this.height - this.top\r\n      this.parentHeight = val\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style>\r\n.vdr {\r\n  position: absolute;\r\n  box-sizing: border-box;\r\n}\r\nspan.rotate {\r\n  font-size: 20px;\r\n  position: absolute;\r\n  top: -30px;\r\n  cursor: pointer;\r\n  right: -30px;\r\n  color: #000000;\r\n}\r\n.vdr-stick {\r\n  box-sizing: border-box;\r\n  position: absolute;\r\n  font-size: 1px;\r\n  background: #ffffff;\r\n  border: 1px solid #6c6c6c;\r\n  box-shadow: 0 0 2px #bbb;\r\n}\r\n.inactive .vdr-stick {\r\n  display: none;\r\n}\r\n.vdr-stick-tl,\r\n.vdr-stick-br {\r\n  cursor: nwse-resize;\r\n}\r\n.vdr-stick-tm,\r\n.vdr-stick-bm {\r\n  left: 50%;\r\n  cursor: ns-resize;\r\n}\r\n.vdr-stick-tr,\r\n.vdr-stick-bl {\r\n  cursor: nesw-resize;\r\n}\r\n.vdr-stick-ml,\r\n.vdr-stick-mr {\r\n  top: 50%;\r\n  cursor: ew-resize;\r\n}\r\n.vdr-stick-ro {\r\n  left: 50%;\r\n  top: -20px;\r\n  cursor: pointer;\r\n}\r\n.vdr-stick.not-resizable {\r\n  display: none;\r\n}\r\n.vdr-stick.not-rotatable {\r\n  display: none;\r\n}\r\n.vdr.active:before {\r\n  cursor: move;\r\n  /*显示移动光标*/\r\n}\r\n</style>\r\n","import { render } from \"./vueDragResizeRotate.vue?vue&type=template&id=321a4480\"\nimport script from \"./vueDragResizeRotate.vue?vue&type=script&lang=js\"\nexport * from \"./vueDragResizeRotate.vue?vue&type=script&lang=js\"\n\nimport \"./vueDragResizeRotate.vue?vue&type=style&index=0&id=321a4480&lang=css\"\nscript.render = render\n\nexport default script","// // 导入入口样式文件\r\n// import './styles/index.scss'\r\n// 导入所有组件\r\nimport { vueDragResizeRotate } from './vueDragResizeRotate/index'\r\nconst components = {\r\n  vueDragResizeRotate\r\n}\r\n// 定义 install 方法，在Vue中注册组件。如果使用 use 注册插件，则所有的组件都将被注册\r\nconst install = function (Vue) {\r\n  //判断是否已经注册\r\n  if (install.installed) return\r\n  //循环注册组件\r\n  Object.keys(components).forEach(key => {\r\n    Vue.component(components[key].name, components[key])\r\n  })\r\n}\r\n// 判断是否是直接引入文件\r\nif (typeof window !== 'undefined' && window.Vue) {\r\n  install(window.Vue)\r\n}\r\nconst API = {\r\n  install,\r\n  ...components\r\n}\r\nexport default API\r\n","import './setPublicPath'\nimport mod from '~entry'\nexport default mod\nexport * from '~entry'\n"],"sourceRoot":""}